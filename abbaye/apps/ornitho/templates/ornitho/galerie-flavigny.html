{% extends 'ornitho/main_ornitho.html' %}

{% load static %}

{% block breadcrumbs %}
    <li class="breadcrumb-item"><a href="{% url 'ornitho:home' %}">Ornitho</a></li>
    <li class="breadcrumb-item"><a href="{% url 'ornitho:galerie' %}">Galeries</a></li>
    <li class="breadcrumb-item active">Flavigny</li>
{% endblock breadcrumbs %}

{% block article %}
    <div id="bienvenue" style="height: auto; margin: 15px 0px 0px 0px; text-align: center;">Galerie des paysages</div>
    <h4 style="color: maroon; margin-top: 0px; text-align: center;">Vous pouvez me visualiser en mode diaporama et/ou en plein écran.</h4>
    <h5 id="loading" style="text-align: center;">Images en cours de chargement. Veuillez patienter…</h5>

    <div class="galleria">
        <img src="{% get_static_prefix %}ornitho/images/galerie/flavigny_automne.jpg" alt="Flavigny en automne">
        <img src="{% get_static_prefix %}ornitho/images/galerie/charmille_automne.jpg" alt="La charmille">
        <img src="{% get_static_prefix %}ornitho/images/galerie/flavigny_hiver.jpg" alt="Flavigny en hiver">
        <img src="{% get_static_prefix %}ornitho/images/galerie/flavigny_drone.jpg" alt="Flavigny vu de drône">
        <img src="{% get_static_prefix %}ornitho/images/galerie/charmille.jpg" alt="La charmille">
        <img src="{% get_static_prefix %}ornitho/images/galerie/lever_soleil_brume_sapin.jpg" alt="Lever de soleil à travers les sapins">
        <img src="{% get_static_prefix %}ornitho/images/galerie/iris.jpg" alt="Les iris du parc">
        <img src="{% get_static_prefix %}ornitho/images/galerie/stat_crux.jpg" alt="Stat crux dum volvitur orbis">
        <img src="{% get_static_prefix %}ornitho/images/galerie/ange_gardien.jpg" alt="Ange gardien">
        <img src="{% get_static_prefix %}ornitho/images/galerie/ange_gardien_sepia.jpg" alt="Ange gardien sepia">
        <img src="{% get_static_prefix %}ornitho/images/galerie/balustrade.jpg" alt="Le parc">
        <img src="{% get_static_prefix %}ornitho/images/galerie/chateau_cour_calvaire.jpg" alt="Le château">
        <img src="{% get_static_prefix %}ornitho/images/galerie/chateau_cour_sacre_coeur.jpg" alt="Le château">
        <img src="{% get_static_prefix %}ornitho/images/galerie/tourterelle_sacre_coeur.jpg" alt="Tourterelle turque dans les mains du Sacré-Cœur">
        <img src="{% get_static_prefix %}ornitho/images/galerie/moine.jpg" alt="Moine en prière">
        <img src="{% get_static_prefix %}ornitho/images/galerie/vitraux.jpg" alt="Vitraux du soir">
        <img src="{% get_static_prefix %}ornitho/images/galerie/messe.jpg" alt="La sainte messe. Ce phénomène lumineux ne se produit que deux fois par an : autour du 10 mai et du 10 août.">
        <img src="{% get_static_prefix %}ornitho/images/galerie/marie.jpg" alt="Notre-Dame du Sacré-Cœur">
    </div>

    <h6 class="text-center mt-5">Powered by <a href="https://galleriajs.github.io">Galleria</a></h6>
{% endblock article %}

{% block javascript %}
    {{ block.super }}

    <script src="{% get_static_prefix %}ornitho/js/galleria/galleria.min.js"></script>

    <script>
        (function() {
            Galleria.loadTheme('/statics/ornitho/js/galleria/themes/azur/galleria.azur.min.js');
            Galleria.run('.galleria', {
                carouselSpeed: 50,
                fullscreenTransition: 'fade',
                imageCrop: false,
                transition: 'fade',
                transitionSpeed: 1000,
            });
        }());
    </script>

    <script>
        var imgs = document.images,
        len = imgs.length,
        counter = 0;

        [].forEach.call( imgs, function( img ) {
            if(img.complete)
            incrementCounter();
            else
            img.addEventListener( 'load', incrementCounter, false );
        } );

        function incrementCounter() {
            counter++;
            if ( counter === len ) {
                $("#loading").css("display", "none");
            }
        }
    </script>
{% endblock javascript %}
